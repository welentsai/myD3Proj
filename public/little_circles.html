<!DOCTYPE html> 
<html lang="zh">
<head>
	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" type="text/css" href="stylesheets/style.css">
	
	<!-- D3 -->
	<script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>

<style>
</style>

<div class="container-fluid">
	<h2>D3 Hello World</h2>
</div>

<svg width="720" height="120">
  <rect width="100%" height="100%" style="fill:lightgreen;"> </rect>
</svg>

<script>

/*
var circle = d3.selectAll("circle");

circle.data([32, 57, 112]); // binding array data, mirrors to an array of elements


*/
var svg = d3.select("svg");

var data = [{"x": 0.5, "y": 0.5}, 
             {"x": 1.5, "y": 1.5}];

var _data = [{"x": 1.0, "y": 1.0}, 
             {"x": 2.0, "y": 2.0},
             {"x": 3.0, "y": 3.0},
             {"x": 4.0, "y": 4.0},];

var circle = svg.selectAll("circle")
    .data(data)
    .enter().append("circle")
      .attr("cx", function(d) { return d.x * 20; })
      .attr("cy", function(d) { return d.y * 20; })
      .attr("r", 2.5 * 3);

// 寫法 二 , for handle dynamic visualizations
var circle = svg.selectAll("circle").data(_data);

circle.exit().remove(); //remove leftover elements

// After merging the entered elements with the update selection,
// apply operations to both.
circle.enter().append("circle")
      .attr("r", 2.5 * 4 )  // only apply to new appened elements
    .merge(circle) // after merge(), apply to all elements 
      .attr("cx", function(d) { return d.x * 20; })
      .attr("cy", function(d) { return d.y * 20; });


/*
circle.attr("r", function(d) { return Math.sqrt(d); }); // apply to all elements 
circle.attr("cx", function(d, i) { return i * 100 + 30; });

var circleEnter = circle.enter().append("circle");

circleEnter.attr("cy", 60);
circleEnter.attr("cx", function(d, i) { return i * 100 + 30; });
circleEnter.attr("r", function(d) { return Math.sqrt(d); });
circleEnter.style("fill", "steelblue");
*/

</script>

</body>
</html>